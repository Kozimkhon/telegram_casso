2025-11-13 17:17:06 [ERROR]: Failed to start AdminBot
Error: 409: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
    at Telegram.callApi (E:\Experiments\telegram_casso\node_modules\telegraf\lib\core\network\client.js:315:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async [Symbol.asyncIterator] (E:\Experiments\telegram_casso\node_modules\telegraf\lib\core\network\polling.js:30:33)
    at async Polling.loop (E:\Experiments\telegram_casso\node_modules\telegraf\lib\core\network\polling.js:73:30)
    at async Telegraf.launch (E:\Experiments\telegram_casso\node_modules\telegraf\lib\telegraf.js:194:13)
    at async AdminBotController.start (file:///E:/Experiments/telegram_casso/src/presentation/controllers/AdminBotController.js:145:7)
    at async Application.start (file:///E:/Experiments/telegram_casso/src/index.js:167:11)
{
  "error": "409: Conflict: terminated by other getUpdates request; make sure that only one bot instance is running"
}
2025-11-13 17:28:05 [ERROR]: Error toggling channel
Error: Channel not found: -1003288456214
    at ToggleChannelForwardingUseCase.execute (file:///E:/Experiments/telegram_casso/src/domain/use-cases/channel/ToggleChannelForwardingUseCase.js:45:13)
    at async Object.handleToggleChannel (file:///E:/Experiments/telegram_casso/src/presentation/handlers/channelHandlers.js:125:22)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:31:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
{
  "error": "Channel not found: -1003288456214"
}
2025-11-13 17:28:41 [ERROR]: Error toggling channel
Error: Channel not found: -1003288456214
    at ToggleChannelForwardingUseCase.execute (file:///E:/Experiments/telegram_casso/src/domain/use-cases/channel/ToggleChannelForwardingUseCase.js:45:13)
    at async Object.handleToggleChannel (file:///E:/Experiments/telegram_casso/src/presentation/handlers/channelHandlers.js:125:22)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:31:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
{
  "error": "Channel not found: -1003288456214"
}
2025-11-13 17:28:51 [ERROR]: Error toggling channel
Error: Channel not found: -1003288456214
    at ToggleChannelForwardingUseCase.execute (file:///E:/Experiments/telegram_casso/src/domain/use-cases/channel/ToggleChannelForwardingUseCase.js:45:13)
    at async Object.handleToggleChannel (file:///E:/Experiments/telegram_casso/src/presentation/handlers/channelHandlers.js:125:22)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:31:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
{
  "error": "Channel not found: -1003288456214"
}
2025-11-13 17:48:20 [ERROR]: Error showing channel details
Error: Channel not found: -1002148669912
    at GetUsersByChannelUseCase.execute (file:///E:/Experiments/telegram_casso/src/domain/use-cases/user/GetUsersByChannelUseCase.js:44:13)
    at async handleChannelDetails (file:///E:/Experiments/telegram_casso/src/presentation/handlers/channelHandlers.js:151:27)
    at async Object.handleToggleChannel (file:///E:/Experiments/telegram_casso/src/presentation/handlers/channelHandlers.js:131:7)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:31:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
{
  "error": "Channel not found: -1002148669912"
}
2025-11-13 17:55:18 [ERROR]: Error showing sessions
TypeError: Cannot read properties of undefined (reading 'findByUserId')
    at Object.handleSessionsList (file:///E:/Experiments/telegram_casso/src/presentation/handlers/sessionHandlers.js:47:45)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:44:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
{
  "error": "Cannot read properties of undefined (reading 'findByUserId')"
}
2025-11-13 17:58:13 [ERROR]: Error showing sessions
Error: 400: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 61
    at Telegram.callApi (E:\Experiments\telegram_casso\node_modules\telegraf\lib\core\network\client.js:315:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Object.handleSessionsList (file:///E:/Experiments/telegram_casso/src/presentation/handlers/sessionHandlers.js:72:7)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:44:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
{
  "error": "400: Bad Request: can't parse entities: Can't find end of the entity starting at byte offset 61"
}
2025-11-13 17:59:47 [ERROR]: Error showing system stats
Error: Invalid status. Must be one of: success, failed, skipped, pending
    at Message.validate (file:///E:/Experiments/telegram_casso/src/core/entities/domain/Message.entity.js:125:13)
    at new Message (file:///E:/Experiments/telegram_casso/src/core/entities/domain/Message.entity.js:90:10)
    at Message.fromDatabaseRow (file:///E:/Experiments/telegram_casso/src/core/entities/domain/Message.entity.js:246:12)
    at #toDomainEntity (file:///E:/Experiments/telegram_casso/src/data/repositories/domain/MessageRepository.js:22:20)
    at file:///E:/Experiments/telegram_casso/src/data/repositories/domain/MessageRepository.js:56:50
    at Array.map (<anonymous>)
    at MessageRepository.findAll (file:///E:/Experiments/telegram_casso/src/data/repositories/domain/MessageRepository.js:56:21)
    at async MessageRepository.getForwardingStatistics (file:///E:/Experiments/telegram_casso/src/data/repositories/domain/MessageRepository.js:119:22)
    at async Promise.all (index 3)
    at async MetricsService.getOverallMetrics (file:///E:/Experiments/telegram_casso/src/domain/services/MetricsService.js:62:7)
{
  "error": "Invalid status. Must be one of: success, failed, skipped, pending"
}
2025-11-13 18:02:26 [ERROR]: Error showing system stats
TypeError: this[#ormRepository].findByForwardingEnabled is not a function
    at ChannelRepository.findAll (file:///E:/Experiments/telegram_casso/src/data/repositories/domain/ChannelRepository.js:56:44)
    at ChannelRepository.findEnabled (file:///E:/Experiments/telegram_casso/src/data/repositories/domain/ChannelRepository.js:121:23)
    at ChannelRepository.getStatistics (file:///E:/Experiments/telegram_casso/src/data/repositories/domain/ChannelRepository.js:134:32)
    at async Promise.all (index 1)
    at async MetricsService.getOverallMetrics (file:///E:/Experiments/telegram_casso/src/domain/services/MetricsService.js:62:7)
    at async Object.handleSystemStats (file:///E:/Experiments/telegram_casso/src/presentation/handlers/statsHandlers.js:62:23)
    at async file:///E:/Experiments/telegram_casso/src/presentation/middleware/callbacks.js:56:5
    at async file:///E:/Experiments/telegram_casso/src/shared/errorHandler.js:83:14
    at async execute (E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:518:17)
    at async E:\Experiments\telegram_casso\node_modules\telegraf\lib\composer.js:519:21
{
  "error": "this[#ormRepository].findByForwardingEnabled is not a function"
}
2025-11-14 01:37:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 01:37:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:37:47 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:37:59 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:38:12 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:38:25 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 01:39:36 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:39:47 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:39:59 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:40:12 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:40:25 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 01:45:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:45:46 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:45:59 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:46:11 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:46:24 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 01:46:46 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:46:57 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:47:10 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:47:23 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:47:35 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 01:52:05 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:52:16 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:52:29 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:52:42 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:52:54 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 01:53:57 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 01:54:08 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:54:21 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:54:33 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 01:54:46 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:13:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:13:45 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:13:58 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:14:11 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:14:24 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:16:28 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:16:39 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:16:51 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:17:04 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:17:17 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:20:35 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:20:46 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:20:58 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:21:11 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:21:24 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:23:00 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:23:11 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:23:23 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:23:36 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:23:48 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:30:42 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:30:53 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:31:06 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:31:18 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:31:31 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:32:50 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:34:03 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:34:14 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:34:27 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:34:40 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:34:52 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "New Name"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "new@example.com",
      "phone": "9876543210"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "invalid",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": ""
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "email": "invalid-email"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": "123"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "isActive": false
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "role": "INVALID_ROLE"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "notifications": false
      }
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "settings": {
        "b": 20
      }
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane",
      "email": "jane@test.com"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    },
    "expectedVersion": 2
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {}
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Иван Петров"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "phone": null
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    }
  },
  "error": {}
}
2025-11-14 02:38:17 [ERROR]: Failed to update admin
{
  "userId": {
    "adminId": "admin_123",
    "updates": {
      "name": "Jane Smith",
      "email": "jane@example.com",
      "role": "ADMIN"
    }
  },
  "error": {}
}
2025-11-14 02:38:28 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:38:40 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:38:53 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 02:39:06 [ERROR]: Error stopping AdminBot
Error: Bot is not running!
    at Telegraf.stop (E:\experiments\workspace\web-dev\telegram_casso\node_modules\telegraf\lib\telegraf.js:218:19)
    at AdminBotController.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\AdminBotController.js:174:23)
    at Object.stop (E:\experiments\workspace\web-dev\telegram_casso\src\presentation\controllers\__tests__\AdminBotController.spec.js:91:32)
    at Promise.then.completed (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:298:28)
    at new Promise (<anonymous>)
    at callAsyncCircusFn (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\utils.js:231:10)
    at _callCircusTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:316:40)
    at _runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:252:3)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:126:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at _runTestsForDescribeBlock (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:121:9)
    at run (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\run.js:71:3)
    at runAndTransformResultsToJestFormat (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapterInit.js:122:21)
    at jestAdapter (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-circus\build\legacy-code-todo-rewrite\jestAdapter.js:79:19)
    at runTestInternal (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:367:16)
    at runTest (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\runTest.js:444:34)
    at Object.worker (E:\experiments\workspace\web-dev\telegram_casso\node_modules\jest-runner\build\testWorker.js:106:12)
{
  "error": "Bot is not running!"
}
2025-11-14 10:36:00 [ERROR]: Error in old message deletion process
TypeError: this.messageRepository.findOldMessagesByChannel is not a function
    at #deleteOldMessages (file:///D:/experiments/telegram_casso/src/presentation/controllers/UserBotController.js:789:65)
    at #startPeriodicTasks (file:///D:/experiments/telegram_casso/src/presentation/controllers/UserBotController.js:766:29)
    at UserBotController.start (file:///D:/experiments/telegram_casso/src/presentation/controllers/UserBotController.js:191:31)
    at async Application.start (file:///D:/experiments/telegram_casso/src/index.js:102:13)
{
  "error": "this.messageRepository.findOldMessagesByChannel is not a function"
}
2025-11-14 10:41:31 [ERROR]: Error in old message deletion process
TypeError: this.messageRepository.findOldMessagesByChannel is not a function
    at #deleteOldMessages (file:///D:/experiments/telegram_casso/src/presentation/controllers/UserBotController.js:789:65)
    at #startPeriodicTasks (file:///D:/experiments/telegram_casso/src/presentation/controllers/UserBotController.js:766:29)
    at UserBotController.start (file:///D:/experiments/telegram_casso/src/presentation/controllers/UserBotController.js:191:31)
    at async Application.start (file:///D:/experiments/telegram_casso/src/index.js:102:13)
{
  "error": "this.messageRepository.findOldMessagesByChannel is not a function"
}
2025-11-14 10:55:01 [ERROR]: Failed to start AdminBot
FetchError: request to https://api.telegram.org/bot8214218173:[REDACTED]/getMe failed, reason: socket hang up
    at ClientRequest.<anonymous> (D:\experiments\telegram_casso\node_modules\node-fetch\lib\index.js:1501:11)
    at ClientRequest.emit (node:events:519:28)
    at emitErrorEvent (node:_http_client:107:11)
    at TLSSocket.socketOnEnd (node:_http_client:598:5)
    at TLSSocket.emit (node:events:531:35)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
{
  "error": "request to https://api.telegram.org/bot8214218173:[REDACTED]/getMe failed, reason: socket hang up"
}
2025-11-14 11:06:43 [ERROR]: Failed to start AdminBot
FetchError: request to https://api.telegram.org/bot8214218173:[REDACTED]/getMe failed, reason: Client network socket disconnected before secure TLS connection was established
    at ClientRequest.<anonymous> (D:\experiments\telegram_casso\node_modules\node-fetch\lib\index.js:1501:11)
    at ClientRequest.emit (node:events:519:28)
    at emitErrorEvent (node:_http_client:107:11)
    at TLSSocket.socketErrorListener (node:_http_client:574:5)
    at TLSSocket.emit (node:events:519:28)
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
{
  "error": "request to https://api.telegram.org/bot8214218173:[REDACTED]/getMe failed, reason: Client network socket disconnected before secure TLS connection was established"
}
